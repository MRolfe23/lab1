<!DOCTYPE HTML>

<html lang="en">
	<head>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.6/Chart.min.js"></script>
		<title> MVP </title>
		<style>
			 #head{
			   background-color: #333;
			   color: white;
			   width: 1000px;
			 
			 }
			 #footer{
			 
			 
			 }
			 body{
			 font-family: 'Shadows Into Light', cursive;
			 font-size: 16px;
			 
			 }
			 th,td {
				width: 430px;
				height: 70px;
				border: solid 2px #333;
			 }
			 th {
				font-weight: 900;
			 }
		</style>

	</head>
	<body>
		<h1>Table of people!</h1>
		<div id="people"></div>
	</body>
	<script src="jsonSpread.js"></script>
	<script>
		var output = "";
		var output = "<table>" + "<tr>" +"<th> Name </th>" + "<th> Email </th>" + "<th> Age </th>" + "<th> City </th>" + "</tr>";

		
		var sum = 0;
		for( var i = 0; i < data.length; i++ ){
			var age = data[i].age;
			sum += data[i].age; //don't forget to add the base
		}

		var avg = sum/(data.length+1);

		document.write( "The sum of all the ages is: " + sum + " The average is: " + avg );
		for(var x = 0; x < data.length; x++) {
			var name = data[x].Name;
			var email = data[x].email;
			var age = data[x].age;
			var city = data[x].city;
			
			output += '<tr>' + '<td>' + name + '</td>' + '<td>' + email + '</td>' + '<td>' + age + '</td>' + '<td>' + city + '</td></tr>';
		}
		
		output += "</table>";
		
		document.getElementById('people').innerHTML = output;
		

	</script>
	<canvas id="myChart" width="400" height="400"></canvas>
	<script>
	var ctx = document.getElementById("myChart");
	var myChart = new Chart(ctx, {
		type: 'bar',
		data: {
			labels: (function(){
				   var arr = [];
				   for(var i=0; i<5; i++){
					   arr.push(data[i].Name);
				   }
				   return arr;
			   })("Name:")
			
			/**[data[0].institution_name, data[1].institution_name, data[2].institution_name, data[3].institution_name, data[4].institution_name, data[5].institution_name]**/,
			datasets: [{
				label: 'people age',
				data: [data[0].age, data[1].age, data[2].age, data[3].age, data[4].age, data[5].age],
				backgroundColor: [
					'rgba(255, 99, 132, 0.2)',
					'rgba(54, 162, 235, 0.2)',
					'rgba(255, 206, 86, 0.2)',
					'rgba(75, 192, 192, 0.2)',
					'rgba(153, 102, 255, 0.2)',
					'rgba(255, 159, 64, 0.2)'
				],
				borderColor: [
					'rgba(255,99,132,1)',
					'rgba(54, 162, 235, 1)',
					'rgba(255, 206, 86, 1)',
					'rgba(75, 192, 192, 1)',
					'rgba(153, 102, 255, 1)',
					'rgba(255, 159, 64, 1)'
				],
				borderWidth: 1
			}]
		},
		options: {
			scales: {
				yAxes: [{
					ticks: {
						beginAtZero:true
					}
				}]
			}
		}
	});
	</script>
</html>